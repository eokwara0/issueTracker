{"version":3,"file":"server.js","mappings":"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","sources":["webpack://reactpractice/./server/render.jsx","webpack://reactpractice/./server/template.js","webpack://reactpractice/./src/About.jsx","webpack://reactpractice/./webpack.config.js","webpack://reactpractice/external commonjs \"dotenv\"","webpack://reactpractice/external commonjs \"express\"","webpack://reactpractice/external commonjs \"react\"","webpack://reactpractice/external commonjs \"react-dom/server\"","webpack://reactpractice/external commonjs \"source-map-support\"","webpack://reactpractice/external commonjs \"webpack\"","webpack://reactpractice/external commonjs \"webpack-dev-middleware\"","webpack://reactpractice/external commonjs \"webpack-hot-middleware\"","webpack://reactpractice/external commonjs \"webpack-node-externals\"","webpack://reactpractice/external node-commonjs \"path\"","webpack://reactpractice/webpack/bootstrap","webpack://reactpractice/webpack/runtime/compat get default export","webpack://reactpractice/webpack/runtime/define property getters","webpack://reactpractice/webpack/runtime/hasOwnProperty shorthand","webpack://reactpractice/webpack/runtime/make namespace object","webpack://reactpractice/./server/uiserver.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport About from '../src/About.jsx';\r\nimport template from './template.js';\r\n\r\nfunction render(req,res ) {\r\n    const body = ReactDOMServer.renderToString(<About/>);\r\n    res.send(template(body));\r\n}\r\n\r\nexport default render;","\n\nexport default function template(body) {\n  return `\n    \"<!DOCTYPE HTML>\n            <html>\n                <head>\n                    <meta charset=\"utf-8\">\n                    <title>Pro MERN Stack</title>\n                    <link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                    <style>\n                        table.table-hover tr {cursor: pointer;}\n                        .panel-title a {display: block; width: 100%; cursor: pointer;}\n                    </style>\n                </head>\n                <body>\n                <!-- Page generated from template. -->\n                    <div id=\"contents\">${body}</div>\n                </body>\n            </html>`;\n}\n","import React from 'react';\r\n\r\n\r\n\r\nexport default function About(){\r\n    return (\r\n        <div className=\"text-center\">\r\n            <h3>Issue Tracker version 0.9</h3>\r\n            <h4>\r\n                API version 1.0\r\n            </h4>\r\n        </div>\r\n    )\r\n}\r\n","/** one of these days */\n\nconst path = require('path');\nconst nodeExternals = require('webpack-node-externals');\n\nconst browserConfig = {\n  mode: 'development',\n  entry: { app: ['./browser/App.jsx'] },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'public'),\n    publicPath: '/',\n  },\n\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              [\n                '@babel/preset-env',\n                {\n                  targets: {\n                    ie: '11',\n                    edge: '15',\n                    safari: '10',\n                    firefox: '50',\n                    chrome: '49',\n                  },\n                },\n              ],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n      {\n        test: /\\.css/i,\n        use: ['style-loader', 'css-loader'],\n      },\n    ],\n  },\n  optimization: {\n    splitChunks: {\n      name: 'vendor',\n      chunks: 'all',\n    },\n  },\n  devtool: 'source-map',\n};\n\nconst serverConfig = {\n  mode: 'development',\n  entry: {\n    server: ['./server/uiserver.js'],\n  },\n  target: 'node',\n  externals: [nodeExternals()],\n  output: {\n    filename: 'server.js',\n    path: path.resolve(__dirname, 'main'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              [\n                '@babel/preset-env',\n                {\n                  targets: { node: '10' },\n                },\n              ],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n    ],\n  },\n  devtool: 'source-map',\n};\n\nmodule.exports = [browserConfig, serverConfig];\n","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"source-map-support\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","module.exports = require(\"webpack-node-externals\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable global-require */\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport express from 'express';\n// import proxy from 'http-proxy-middleware';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport SourceMapSupport from 'source-map-support';\n// eslint-disable-next-line import/no-named-as-default, import/no-named-as-default-member\nimport render from './render.jsx';\n\n\n// express application\nconst app = express();\n\n\nSourceMapSupport.install();\ndotenv.config();\n\n\n// port number\nconst port = process.env.UI_SERVER_PORT || 8000;\n\n\n// Enabling hot module replacement\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\n  console.log('Adding dev middleware, enabling HMR');\n\n  const webpack = require('webpack');\n  const devMiddleware = require('webpack-dev-middleware');\n  const hotMiddleware = require('webpack-hot-middleware');\n\n  const config = require('../webpack.config.js')[0];\n  config.entry.app.push('webpack-hot-middleware/client');\n  config.plugins = config.plugins || [];\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n\n  const compiler = webpack(config);\n  app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\n// importing http-proxy-middleware object\n// const proxy = require('http-proxy-middleware');\n\n\n// Getting proxy target from environment\n// In this case http://localhost:3000\n// This will allow for use to make calls to our api endpoint securely\n// const apiProxyTarget = process.env.API_PROXY_TARGET ;\n\n// // if apiProxyTarget exists\n// // create a middleware that will link  our\n// //frontend request to our API endpoint\n// if(apiProxyTarget){\n//     console.log( apiProxyTarget )\n//     app.use('/graphql' , proxy({ target : apiProxyTarget }))\n// }\n\n\n// Creating middileware for serving up static files\napp.use(express.static('public'));\n\n// UI_API_Endpoint\n// Our react app will use this to make request to the graphql server\nconst UI_API_ENDPOINT = process.env.UI_API_ENDPOINT || 'http://localhost:3000/graphql';\nconst env = { UI_API_ENDPOINT };\n\napp.get('/env.js', (req, res) => {\n  res.send(`window.ENV = ${JSON.stringify(env)})`);\n});\n\n/** ðŸš€About component endpoint\n * The reason for this is that we want to render the component on the server rather than on the client side.\n * When ever a page is reloaded or refreshed.\n */\napp.get('/about', render);\n\napp.get('*', (req, res) => {\n  res.sendFile(path.resolve('public/index.html'));\n});\n\n// Starting up the server\n// Listening in on specified port\napp.listen(port, () => {\n  // Log Event\n  console.log(`ðŸš€UI SERVER LISTENING: ${port}`);\n});\n"],"names":["React","ReactDOMServer","About","template","render","req","res","body","renderToString","send","path","require","nodeExternals","browserConfig","mode","entry","app","output","filename","resolve","__dirname","publicPath","module","rules","test","exclude","use","loader","options","presets","targets","ie","edge","safari","firefox","chrome","optimization","splitChunks","name","chunks","devtool","serverConfig","server","target","externals","node","exports","dotenv","express","SourceMapSupport","install","config","port","process","env","UI_SERVER_PORT","enableHMR","ENABLE_HMR","NODE_ENV","console","log","webpack","devMiddleware","hotMiddleware","push","plugins","HotModuleReplacementPlugin","compiler","static","UI_API_ENDPOINT","get","JSON","stringify","sendFile","listen"],"sourceRoot":""}